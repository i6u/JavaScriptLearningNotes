<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>深入了解String.sort()方法</title>
</head>
<body>
    <script>
        var as = [111, 21, 31, 233,12, 190];
        console.log(as.sort());//默认通过字符串排序

        function sortByNum(a, b) {
//            console.log(a + '/' + b+"/"+(a-b)+"--"+as);
            return a - b;
        }
        console.log('10'+1);
        console.log('10'-1); //当执行减法时,默认把字符串转换为number
        console.log(as.sort(sortByNum));
    </script>
<hr>
    <p id="person"></p>
<script>
    function Person(name, age) {
        this.name = name;
        this.age = age;
    }

    var p1 = new Person('aa', 23);
    var p2 = new Person('bc', 13);
    var p3 = new Person('ba', 33);
    var ps = [p1, p2, p3];
    /******************* */
//    ps.sort(sortByAge);

    function sortByName(obj1,obj2) {
        if (obj1.name > obj2.name) return 1;
        else if (obj1.name == obj2.name) return 0;
        else return -1;
    }
    function sortByAge(obj1, obj2) {
        return obj1.age - obj2.age;
    }
    /******************* */

    /******************* 灵活使用:把函数作为返回值*/
    function sortByProperty(propertyName) {
        var sortFun = function(obj1, obj2){
            if (obj1[propertyName] > obj2[propertyName])return 1;
            else if (obj1[propertyName] == obj2[propertyName]) return 0;
            else return -1;
        }
        return sortFun;
    }
    console.log(sortByProperty('name'));
//    ps.sort(sortByProperty('age'));
    ps.sort(sortByProperty('name'));
    /******************* */
    function show() {
        var p = document.getElementById('person');
        for (var i = 0; i < ps.length; i++) {
            p.innerHTML += ps[i].name + ',' + ps[i].age + '<br/>';
        }
    }
    show();
</script>
</body>
</html>